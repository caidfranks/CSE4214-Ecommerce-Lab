@page "/vendorDetails/{UserID}"
@inject NavigationManager Nav
@inject Services.AccountService AccountService
@inject Services.AuthService AuthService
@using GameVault.Client.Services
@using System.Runtime.CompilerServices
@using GameVault.Shared.Models
@using System.Reflection
@using GameVault.Shared.DTOs
@using Grpc.Net.Client.Balancer

@if (account is null)
{
    <h3>Vendor not found</h3>
}
else
{
    <h3>Vendor Details</h3>

    <p>Name: @account.Name</p>
    <p>Email: @account.Email</p>
}

@code {
    [Parameter] public string? UserID { get; set; }
    private UserDTO? account;

    protected override async Task OnParametersSetAsync()
    {
        if (UserID is not null)
        {
            var result = await AccountService.GetAccountByIdAsync(UserID);
            if (result is not null && result.Success) account = result.Data;
        }
        else
        {
            Console.WriteLine("No User Id provided");
        }
    }
}